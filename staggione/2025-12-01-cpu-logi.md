---
layout: post
title: '[RS] Како ради процесор или тако нешто'
date: '2025-12-01 00:47:12 +0000'
category: it
category: blog
---

Како сам без икаквог разлога провео недеље свог живота правећи осмобитни процесор који нема неку сврху осим да ми троши време, било би штета да га не пропратим подједнако бескорисним текстом који би служио као нека документација која објашњава како исти ради, а и као упутство за рекреацију и даљу надоградњу за читавих 0 читалаца овог текста. 

Треба погледати два типа архитектура када се дизајнира процесор, а то су Фон Нојман и Харвард. Разлика је у начину на који се користи bus. Харвард користи два, док Вон Нојман архитектура користи један дељени bus за податке и инструкције. Како је пројекат свакако трајао више него што је планирано, а и како су туторијали и видео снимци које сам гледао већином били за Фон Нојман архитектуру, то се на крају и правило. 

Цео процесор се прави у Logisim Evolution, али је небитно који симулатор логичких кола се користи, верујем да ће било који моћи да постигне што може и овај. А почиње се од нула, јединица и NAND логичких капија.

Прва ствар коју правимо је:

---
{: data-content="D Type Flip Flop"}
D Type  Flip Flop је оно од чега правимо сваки регистар у процесору. Сваки чува један бит, а реагују на импулс clock-a, те се користе да се чувају привремени подаци. D Flip Flop треба да прати следећу табелу:

| PRE | CLR | CLK | D |=| Q | NOT Q |
| --- | --- | --- |---|-|--:|------:|
|  0  |  0  | ↑   | 1 | | 1 |  0    |
|  0  |  0  | ↑   | 0 | | 0 |  1    |
|  0  |  1  | X   | X | | 0 |  1    |
|  1  |  0  | X   | X | | 1 |  0    |
|  1  |  1  | X   | X | | 1 |  1    |

Имамо четири улаза: PRESET, CLEAR, CLOCK, D. Реално за потребе основног процесора није неопходно имати PRE, али битно је знати како функционише процесор и са таквим асинхроним инпутом који овде слуши као одређени override, јер игнорише оно што се уноси као D. Где табела показује Х, ту је инпут апсолутно небитан, а где се појављује стрелица то представља горњи пулс clock-a. Сачувана вредност се обележава са Q, а инвертована као NOT Q. Моја имплементација је приказана на слици испод а направљена је од 4 улаза, два излаза и 6 NAND логичких капија.

![DFlipFlop](https://raw.githubusercontent.com/burstw0w/blog/refs/heads/main/_assets/images/CPUcomp/DTypeFlipFlop.avif)

---

Након направљеног D Type Flip Flop-a време је да се он искористи за прављење регистратора. Почевши од оних једнобитних.

---
{: data-content="Single Bit Register"}

Једнобитни регистар ћемо да користимо за опциони унос бита, тако што уводимо LOAD. Активирањем њега, наш бит A0 зе заправо записује, док се са угашеним LOAD-ом у Q стално чува 0. Таблицом истинитости приказани су сви могући примери:

| CLR   | CLK    | LOAD   | A0      |=| Q       | NOT Q   |
|-------|--------|--------|---------|-|--------:|--------:|
| 1     | X      | X      | X       | | 0       | 1       |
| 0     | ↑      | 0      | 0       | | 0       | 1       |
| 0     | ↑      | 0      | 1       | | 0       | 1       |
| 0     | ↑      | 1      | X       | | A0      | NOT A0  |

На слици се види и где је додат DFlipFlop, и такође се може приметити да једна тачка није накачена а то је PRESET који је за моје потребе био непотребан.
Имплементација унутар logisim-a изгледа овако:

![SingleBitRegister](https://raw.githubusercontent.com/burstw0w/blog/refs/heads/main/_assets/images/CPUcomp/singlebitregister.avif)
---

---
{: data-content="Four Bit Register"}

Спајањем четири једнобитна регистра, добијамо четворобитни. Нема пуно шта да се објашњава, сваки једнобитни регистар има свој бит, док деле заједнички LOAD, CLK и CLR.
Output им је искључиво Q. 

![FourBitRegister](https://raw.githubusercontent.com/burstw0w/blog/refs/heads/main/_assets/images/CPUcomp/fourbitregister.avif)


---
